(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],h=0,m=[];h<o.length;h++)s=o[h],r[s]&&m.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=a("ce5b"),i=a.n(r);a("bf40");n["default"].use(i.a,{theme:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},iconfont:"md"});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",{attrs:{app:"",permanent:""}},[a("v-toolbar",{attrs:{dark:"",flat:"",color:"red darken-2"}},[a("v-list",[a("v-list-tile",[a("v-list-tile-title",{staticClass:"title"},[e._v("\n            My Games\n          ")])],1)],1)],1),a("v-divider"),a("v-list",{staticClass:"pt-0",attrs:{dense:""}},[a("v-list-tile",{on:{click:function(t){return e.createGame()}}},[a("v-list-tile-action",[a("v-icon",[e._v("add")])],1),a("v-list-tile-title",[e._v("\n          Start New Game\n        ")])],1),e._l(e.games,function(t,n,r){return a("v-list-tile",{key:n,on:{click:function(t){return e.getGame(n)}}},[a("v-list-tile-action",[a("v-icon",[e._v("play_circle_filled")])],1),a("v-list-tile-title",[e._v("\n          Play Game #"+e._s(r+1)+"\n        ")])],1)}),e.games&&e.games.length>0?a("v-list-tile",{on:{click:function(t){return e.resetGames()}}},[a("v-list-tile-action",[a("v-icon",[e._v("refresh")])],1),a("v-list-tile-title",[e._v("\n          Reset Games\n        ")])],1):e._e()],2)],1),a("v-toolbar",{attrs:{dark:"",app:"",color:"red darken-3"}},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",[e._v("sport:")]),a("span",{staticClass:"font-weight-light"},[e._v("80")])]),a("v-spacer"),a("v-btn",{attrs:{flat:"",href:"https://github.com/vuetifyjs/vuetify/releases/latest",target:"_blank"}},[a("span",{staticClass:"mr-2"},[e._v("Castle Game")])])],1),a("v-content",[a("Game")],1)],1)},o=[],c=a("cebc"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{column:"","justify-center":"","align-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[a("v-card",[a("v-card-text",[a("h1",[e._v("The Game")]),a("p",[e._v("There are three types of buildings in this game:")]),a("ul",[a("li",[e._v("Castle\n                            "),a("ul",[a("li",[e._v("The Castle has a lifespan of 100 Hit Points.")]),a("li",[e._v("When the Castle is hit, 10 Hit Points are deducted from it's lifespan.")]),a("li",[e._v("If/When the Castle has run out of Hit Points, the city is taken regardless\n                                    of the state of the other buildings\n                                ")]),a("li",[e._v("There is only 1 Castle.")])])]),a("li",[e._v("House\n                            "),a("ul",[a("li",[e._v("Houses have a lifespan of 75 Hit Points.")]),a("li",[e._v("When a House is hit, 20 Hit Points are deducted from it's lifespan.")]),a("li",[e._v("There are 4 Houses.")])])]),a("li",[e._v("Farm\n                            "),a("ul",[a("li",[e._v("Farms have a lifespan of 50 Hit Points.")]),a("li",[e._v("When a Farm is hit, 25 Hit Points are deducted from it's lifespan.")]),a("li",[e._v("There are 4 Farms.")])])])]),a("h2",[e._v("How to Play:")]),a("ul",[a("li",[e._v("To play, either click 'Start New Game', or select a previously started game.")]),a("li",[e._v("The selection of a building is random.")]),a("li",[e._v("Trebuchets are old and not too accurate tools therefore leave 10% chance for\n                            missing the target in any given attack.")]),a("li",[e._v("The result of each attack will be displayed.")]),a("li",[e._v("When all the buildings are destroyed, a success message will be shown.")])])]),e.game?a("v-toolbar",[a("v-spacer"),a("v-btn",{on:{click:function(t){return e.attack(e.game.key)}}},[e._v("Attack")])],1):e._e(),a("v-card-text",[e.game?a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.game.buildings,function(t,n){return a("v-flex",{key:n,attrs:{xs3:"",xs12:"Castle"===t.name}},[a("v-card",{attrs:{color:t.target?t.hit?"green":"red":"white"}},[a("h3",[e._v(e._s(t.name))]),t.target?a("p",[e._v("Shot "+e._s(t.hit?"Hit!":"Missed!"))]):e._e(),a("v-progress-circular",{attrs:{size:"70",width:"5",value:t.health/t.maxHealth*100,color:t.health/t.maxHealth*100<40?"red":"green darken-4"}},[e._v("\n                                        "+e._s(t.health)+" "+e._s(t.maxhealth)+" / "+e._s(t.health)+" hp\n                                    ")])],1)],1)}),1)],1):e._e()],1)],1)],1)],1)],1)},u=[],h=a("2f62"),m={name:"Game",mounted:function(){this.$store.dispatch("Game/fetchGames")},computed:Object(c["a"])({},Object(h["c"])({games:"Game/games",game:"Game/game"}),Object(h["b"])({games:"Game/GET_GAMES",game:"Game/GET_GAME"})),methods:{createGame:function(){this.$store.dispatch("Game/create")},getGame:function(e){this.$store.dispatch("Game/fetchGame",e)},attack:function(e){this.$store.dispatch("Game/attack",e)}},data:function(){return{inGame:!1}}},f=m,d=a("2877"),p=Object(d["a"])(f,l,u,!1,null,null,null),v=p.exports,g={name:"App",mounted:function(){this.$store.dispatch("Game/fetchGames")},computed:Object(c["a"])({},Object(h["c"])({games:"Game/games"}),Object(h["b"])({games:"Game/GET_GAMES"})),methods:{createGame:function(){this.$store.dispatch("Game/create")},getGames:function(){this.$store.dispatch("Game/fetchGames")},getGame:function(e){this.$store.dispatch("Game/fetchGame",e)},resetGames:function(){this.$store.dispatch("Game/resetGames")}},components:{Game:v},data:function(){return{}}},_=g,G=Object(d["a"])(_,s,o,!1,null,null,null),b=G.exports,w=(a("d5e8"),a("d1e7"),a("96cf"),a("3b8d")),y=a("bc3a"),k=a.n(y),x={namespaced:!0,state:{games:null,game:null,loading:!1},mutations:{SET_GAMES:function(e,t){e.games=t},SET_GAME:function(e,t){e.game=t},SET_LOADING:function(e,t){e.loading=t}},getters:{GET_GAMES:function(e){return e.games},GET_GAME:function(e){return e.game},GET_LOADING:function(e){return e.loading}},actions:{fetchGames:function(){var e=Object(w["a"])(regeneratorRuntime.mark(function e(t){var a,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,k.a.get("http://localhost/game",{withCredentials:!0});case 3:n=e.sent,r=n.data,a("SET_GAMES",r);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),fetchGame:function(){var e=Object(w["a"])(regeneratorRuntime.mark(function e(t,a){var n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,k.a.get("http://localhost/game/".concat(a),{withCredentials:!0});case 3:r=e.sent,i=r.data,n("SET_GAME",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(w["a"])(regeneratorRuntime.mark(function e(t){var a,n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,n=t.dispatch,e.next=3,k.a.get("http://localhost/game/new",{withCredentials:!0});case 3:r=e.sent,i=r.data,n("fetchGames"),a("SET_GAME",i);case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),attack:function(){var e=Object(w["a"])(regeneratorRuntime.mark(function e(t,a){var n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,k.a.get("http://localhost/game/".concat(a,"/hit"),{withCredentials:!0});case 3:r=e.sent,i=r.data,n("SET_GAME",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),resetGames:function(){var e=Object(w["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.commit,k.a.delete("http://localhost/game/reset",{withCredentials:!0}),a("SET_GAME",null);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},E=x;n["default"].use(h["a"]);var T={Game:E},O=new h["a"].Store({modules:T});n["default"].config.productionTip=!1,new n["default"]({store:O,render:function(e){return e(b)}}).$mount("#app")}});
//# sourceMappingURL=app.74c1aefa.js.map